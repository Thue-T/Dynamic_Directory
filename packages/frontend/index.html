<!DOCTYPE html>
<html lang="da" data-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Find Danish manufacturing companies - steel, pipes, metal fabrication">
  <title>Danish Producer Directory</title>

  <!-- Pico CSS - Minimal framework -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">

  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Custom styles -->
  <link rel="stylesheet" href="css/custom.css">
</head>

<body>
  <!-- Theme toggle -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
    <span class="sun">&#9728;</span>
    <span class="moon">&#9790;</span>
  </button>

  <main class="container">
    <!-- Header -->
    <header>
      <hgroup>
        <h1>Danish Producer Directory</h1>
        <p>Find manufacturing companies with the exact capabilities you need</p>
      </hgroup>
    </header>

    <!-- Search Section -->
    <section id="search-section">
      <div class="control-panel">
        <form id="search-form" role="search">
          <!-- Filter Menu (Technical Dropdown Style) -->
          <div class="filter-menu-bar">
            <!-- Unified Filter Container -->
            <details id="technical-filters" class="technical-dropdown">
              <summary>FILTER PARAMETERS</summary>
              <div class="filter-content-compact">
                <!-- Location Section -->
                <fieldset class="filter-group-technical">
                  <legend>LOCATION & RANGE</legend>
                  <div class="input-row">
                    <input type="text" id="location" name="location" placeholder="POSTAL CODE / CITY"
                      class="tech-input">
                    <select id="distance" name="distance" class="tech-select">
                      <option value="">ANY DISTANCE</option>
                      <option value="25">MAX 25 KM</option>
                      <option value="50">MAX 50 KM</option>
                      <option value="100">MAX 100 KM</option>
                      <option value="200">MAX 200 KM</option>
                    </select>
                  </div>
                </fieldset>

                <!-- Dynamic Filters Section -->
                <fieldset class="filter-group-technical">
                  <legend>PRODUCTION CAPABILITIES</legend>
                  <div id="filter-container" class="dynamic-filters-grid">
                    <!-- Dynamic filters injected here -->
                  </div>
                </fieldset>
              </div>
            </details>
          </div>

          <!-- Technical Search Bar -->
          <div class="search-technical-container">
            <label for="search-query" class="search-label-tech">
              MANUFACTURING REQUIREMENTS
            </label>
            <textarea id="search-query" name="query"
              placeholder="DESCRIBE REQUIRED PROCESSES, MATERIALS OR TOLERANCES..." rows="1" required></textarea>
          </div>

          <button type="submit" id="search-btn" class="cta-button">
            <span class="btn-text">Find Producers Matches</span>
            <span class="btn-loading" aria-hidden="true" style="display: none;">Searching...</span>
          </button>
        </form>
      </div>
    </section>

    <!-- Results Section -->
    <section id="results-section" style="display: none;">
      <header>
        <hgroup>
          <h2>Search Results</h2>
          <p id="results-count">Found <span>0</span> matching producers</p>
        </hgroup>
      </header>

      <div id="results-container">
        <!-- Results will be dynamically inserted here -->
      </div>

      <!-- Load More -->
      <div id="load-more-container" style="display: none;">
        <button id="load-more-btn" class="secondary outline">Load more results</button>
      </div>
    </section>

    <!-- Company Detail Modal -->
    <dialog id="company-modal">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal"></button>
          <h3 id="modal-company-name">Company Name</h3>
        </header>
        <div id="modal-content">
          <!-- Company details will be inserted here -->
        </div>
        <footer>
          <button id="modal-contact-btn">Contact Company</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <!-- Feedback Toast -->
    <div id="feedback-toast" class="toast" style="display: none;">
      <span id="toast-message"></span>
    </div>
  </main>

  <!-- Footer -->
  <footer class="container">
    <small>
      <span>Danish Producer Directory</span> •
      <span>Data from CVR & company websites</span> •
      <a href="#" id="about-link">About</a>
    </small>
  </footer>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/data-loader.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/search.js"></script>
  <script src="js/app.js"></script>
</body>

</html>