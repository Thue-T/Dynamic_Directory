<!DOCTYPE html>
<html lang="da" data-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Find Danish manufacturing companies - steel, pipes, metal fabrication">
  <title>Danish Producer Directory</title>

  <!-- Pico CSS - Minimal framework -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">

  <!-- Custom styles -->
  <link rel="stylesheet" href="css/custom.css">
</head>
<body>
  <!-- Theme toggle -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
    <span class="sun">&#9728;</span>
    <span class="moon">&#9790;</span>
  </button>

  <main class="container">
    <!-- Header -->
    <header>
      <hgroup>
        <h1>Danish Producer Directory</h1>
        <p>Find manufacturing companies with the exact capabilities you need</p>
      </hgroup>
    </header>

    <!-- Search Section -->
    <section id="search-section">
      <form id="search-form" role="search">
        <fieldset>
          <label for="search-query">
            <strong>Describe what you need</strong>
            <small>E.g., "welding stainless steel 10mm plates" or "laser cutting carbon steel"</small>
          </label>
          <textarea
            id="search-query"
            name="query"
            placeholder="Describe your manufacturing needs in detail..."
            rows="3"
            required
          ></textarea>
        </fieldset>

        <!-- Location Filter (Optional) -->
        <details id="location-details">
          <summary>Location filter (optional)</summary>
          <div class="grid">
            <label for="location">
              City or postal code
              <input
                type="text"
                id="location"
                name="location"
                placeholder="e.g., Copenhagen, 2100"
              >
            </label>
            <label for="distance">
              Max distance
              <select id="distance" name="distance">
                <option value="">Any distance</option>
                <option value="25">25 km</option>
                <option value="50">50 km</option>
                <option value="100">100 km</option>
                <option value="200">200 km</option>
              </select>
            </label>
          </div>
        </details>

        <!-- Dynamic Filters - Will be populated based on discovered parameters -->
        <div id="dynamic-filters" class="dynamic-filters" style="display: none;">
          <details>
            <summary>Advanced filters</summary>
            <div id="filter-container" class="grid">
              <!-- Filters will be dynamically added here based on data -->
            </div>
          </details>
        </div>

        <button type="submit" id="search-btn">
          <span class="btn-text">Search Producers</span>
          <span class="btn-loading" aria-hidden="true" style="display: none;">Searching...</span>
        </button>
      </form>
    </section>

    <!-- Results Section -->
    <section id="results-section" style="display: none;">
      <header>
        <hgroup>
          <h2>Search Results</h2>
          <p id="results-count">Found <span>0</span> matching producers</p>
        </hgroup>
      </header>

      <div id="results-container">
        <!-- Results will be dynamically inserted here -->
      </div>

      <!-- Load More -->
      <div id="load-more-container" style="display: none;">
        <button id="load-more-btn" class="secondary outline">Load more results</button>
      </div>
    </section>

    <!-- Company Detail Modal -->
    <dialog id="company-modal">
      <article>
        <header>
          <button aria-label="Close" rel="prev" class="close-modal"></button>
          <h3 id="modal-company-name">Company Name</h3>
        </header>
        <div id="modal-content">
          <!-- Company details will be inserted here -->
        </div>
        <footer>
          <button id="modal-contact-btn">Contact Company</button>
          <button class="secondary close-modal">Close</button>
        </footer>
      </article>
    </dialog>

    <!-- Feedback Toast -->
    <div id="feedback-toast" class="toast" style="display: none;">
      <span id="toast-message"></span>
    </div>
  </main>

  <!-- Footer -->
  <footer class="container">
    <small>
      <span>Danish Producer Directory</span> •
      <span>Data from CVR & company websites</span> •
      <a href="#" id="about-link">About</a>
    </small>
  </footer>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/data-loader.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/search.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
